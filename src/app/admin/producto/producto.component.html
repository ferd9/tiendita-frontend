<div class="row">

<div class="col-6">
<div class="card">
  <div class="card-header">
    Registrar Producto
  </div>
  <div class="card-body">
    <form [formGroup]="formProducto" (ngSubmit)="registrarProducto()">
      <div class="row">

        <div class="col-6 mb-3">
          <label for="exampleFormControlInput1" class="form-label">Nombre</label>
          <input type="text" class="form-control"
           id="exampleFormControlInput1"
           formControlName="nombre"
           name="nombre"
           placeholder="nombre">
        </div>
        <div class="col-6 mb-3">
          <label for="exampleFormControlInput1" class="form-label">Precio</label>
          <input type="number"
          class="form-control"
           min="0.01"
           step="any"
           formControlName="precio"
           name="precio"
           placeholder="0.00">
        </div>
      </div>
      <div class="form-check form-switch">
        <input
        class="form-check-input"
        type="checkbox"
        formControlName="disponible"
        name="disponible"
        id="flexSwitchCheckDefault">
        <label class="form-check-label" for="flexSwitchCheckDefault">Disponible</label>
      </div>
      <div class="mb-3">
        <label for="exampleFormControlTextarea1" class="form-label">Descripcion</label>
        <textarea
        class="form-control"
        id="exampleFormControlTextarea1"
        formControlName="descripcion"
        name="descripcion"
        rows="3"></textarea>
      </div>

      <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">Imagen</label>
        <input
        type="text"
        class="form-control"
        id="exampleFormControlInput1"
        formControlName="imgenUrl"
        name="imgenUrl"
        placeholder="nombre">
      </div>
      <div class="mb-3">
        <input
        type="hidden"
        class="form-control"
        id="exampleFormControlInput1"
        formControlName="fechaDeLanzamiento"
        name="fechaDeLanzamiento"
        placeholder="nombre">
      </div>
    <div class="mb-3">

      <div class="card">
        <div class="card-header d-flex flex-row bd-highlight mb-3">

          <div class="p-2 flex-grow-1 bd-highlight">
            <ul class="nav nav-pills card-header-pills">
              <li class="nav-item">
                <a class="nav-link">Proveedores</a>
              </li>
            </ul>

          </div>
          <div class="p-2 bd-highlight">
            <ul class="nav nav-pills card-header-pills">
              <li class="nav-item">
                <a class="nav-link" (click)="nuevoProveedor()">Registrar Nuevo Proveedor</a>
              </li>
              <li class="nav-item">
                <a class="nav-link">Buscar Proveedor</a>
              </li>
            </ul>
          </div>


        </div>
        <div class="card-body">

          <ul class="list-group">
            @for (proveedor of proveedores; track $index) {
              <li class="list-group-item d-flex justify-content-between align-items-center">
                {{proveedor.nombre}}
                <span class="badge bg-primary rounded-pill">14</span>
              </li>
            }@empty {
              <li class="list-group-item d-flex justify-content-between align-items-center">
                Sin proveedores.
              </li>
            }
          </ul>

        </div>
      </div>
    </div>
     <!-- <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">Proveedores</label>
        <select class="form-select" size="3" aria-label="size 3 select example">
          <option selected>Open this select menu</option>
          <option value="1">One</option>
          <option value="2">Two</option>
          <option value="3">Three</option>
        </select>
      </div>
      <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">Etiquetas</label>
        <select class="form-select" size="3" aria-label="size 3 select example">
          <option selected>Open this select menu</option>
          <option value="1">One</option>
          <option value="2">Two</option>
          <option value="3">Three</option>
        </select>
      </div>-->
      <button type="submit" class="btn btn-primary">Guardar</button>
    </form>
  </div>


  <div class="col-12">
    <pre>
      {{formProducto.value | json}}
    </pre>
  </div>

  <div class="col-12">
    <pre>
     Es Valido: {{formProducto.valid}}
    </pre>

    <pre>
      Es Valido: {{countNuevos}}
     </pre>
  </div>

</div>
</div>

@if(onBuscarProveedor){
  <div class="col-6">
    <app-proveedor (onNewProveedor)="agregarProveedor($event)" (onAddProveedor)="proveedorSelecionado($event)"></app-proveedor>
  </div>
}


</div>
